(this.webpackJsonpenot=this.webpackJsonpenot||[]).push([[0],{41:function(e,t,a){e.exports=a(65)},44:function(e,t,a){e.exports=a(74)},49:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t),a.d(t,"FirebaseConfig",(function(){return n}));var n={apiKey:"AIzaSyBDI6ab5Y5-FCIScpkw_9SjKu-SsICTYAs",authDomain:"war-room-9f2a7.firebaseapp.com",databaseURL:"https://war-room-9f2a7.firebaseio.com/"}},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(20),c=a.n(r),o=(a(49),a(37)),i=a.n(o),u=a(10),l=Object(u.c)({dataReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MESSAGES":return t.payload;default:return e}}}),m=a(14),p=a(12),d=a(25),f=a(39),g=a(18),b=a.n(g),h=a(30),v=a(31),w=a(41);v.initializeApp(w.FirebaseConfig);var _=v.database().ref().child("messages"),E=function(e){return function(){var t=Object(h.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.push().set(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=a(43),k=a(22),S=a(23),O=a(26),j=a(24),N=a(27),M=a(15),x=a.n(M),C=(a(68),function(e){var t=e.username,a=e.message;return s.a.createElement("span",{className:"".concat("message","__text")},s.a.createElement("strong",null,t),": ",s.a.createElement("em",null,a))}),z=(a(69),function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={message:""},a}return Object(N.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("form",{action:".",onSubmit:function(t){t.preventDefault(),e.props.onSubmitMessage(e.state.message),e.setState({message:""})}},s.a.createElement("input",{className:"".concat("chat-input","__message-input"),type:"text",placeholder:"Enter message...",value:this.state.message,onChange:function(t){return e.setState({message:t.target.value})}}),s.a.createElement("input",{className:"".concat("chat-input","__send-btn"),type:"submit",value:"Send"}))}}]),t}(s.a.Component)),I=(a(70),"wss://server-www.herokuapp.com/"),A=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).addMessage=function(e){return a.setState((function(t){return{messages:[e].concat(Object(y.a)(t.messages))}}))},a.submitMessage=function(e){var t={username:a.state.username,message:e};console.log(t),a.ws.send(JSON.stringify(t)),a.addMessage(t);var n=a.props.addMessages;console.log(n),n(t)},a.state={username:x.a.get("username")||"Groot",messages:[]},a.ws=new WebSocket(I),a.formMessage=s.a.createRef(),a.username=x.a.get("username"),console.log(a.state),a}return Object(N.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.ws.onopen=function(){console.log("connected")},this.ws.onmessage=function(t){var a=JSON.parse(t.data);e.addMessage(a),console.log(e.state)},this.ws.onclose=function(){console.log("disconnected"),e.setState({ws:new WebSocket(I)})}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat("chatroom","__wrapper")},s.a.createElement("div",{className:"".concat("chatroom","__messages")},s.a.createElement(z,{ws:this.ws,onSubmitMessage:function(t){return e.submitMessage(t)}}),s.a.createElement("div",{className:"".concat("chatroom","__messages-container")},this.state.messages.map((function(e,t){return s.a.createElement(C,{key:t,message:e.message,username:e.username})})))))}}]),t}(s.a.Component),D=Object(d.b)(null,(function(e){return{addMessages:Object(u.b)(E,e)}}))(A),J=(a(71),function(){var e=s.a.createRef(),t=x.a.get("username");return s.a.createElement(m.a,null,s.a.createElement("div",{className:"".concat("start-page","__wrapper")},s.a.createElement("p",{className:"".concat("start-page","__text")},"Please enter your username:"),s.a.createElement("form",{className:"".concat("start-page","__input-wrapper"),ref:e},s.a.createElement("input",{className:"".concat("start-page","__input"),defaultValue:t,type:"text",required:!0}),s.a.createElement(m.b,{to:"/chat"},s.a.createElement("button",{className:"".concat("start-page","__button"),onClick:function(){var t=e.current[0].value;e.current.reportValidity()&&(x.a.set("username",t),window.location="/chat")}},"Start chatting >>>")))))}),R=(a(73),Object(u.d)(l,{},Object(u.a)(f.a))),W=function(){return s.a.createElement("div",{className:"app"},s.a.createElement(d.a,{store:R},s.a.createElement(m.a,null,s.a.createElement(i.a,{params:{particles:{number:{value:150,density:{enable:!0,value_area:1803.4120608655228}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:2,color:"#000000"},polygon:{nb_sides:4},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.4008530152163807,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:1.5,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:300,color:"#ffffff",opacity:.3687847739990702,width:.6413648243462091},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"window",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!1,mode:"bubble"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:100,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"black",zIndex:-1}}),s.a.createElement(p.c,null,s.a.createElement(p.a,{exact:!0,path:"/"},s.a.createElement(J,null)),s.a.createElement(p.a,{exact:!0,path:"/chat"},s.a.createElement(D,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.fd76c45d.chunk.js.map